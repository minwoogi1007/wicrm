---
description: 
globs: 
alwaysApply: true
---
## ğŸ¯ Cursorìš© í”„ë¡œì íŠ¸ ì§€ì¹¨ (Shrimp Task Manager ê¸°ë°˜)

### ğŸ§± í”„ë¡œì íŠ¸ ê°œìš”

* Java Spring Boot ê¸°ë°˜ ì›¹ì„œë¹„ìŠ¤ ê°œë°œ
* Oracle 11g ì—°ë™ í¬í•¨
* Cursor ì—ë””í„° + MCP ê¸°ë°˜ AI ìë™í™” ì‚¬ìš© ì¤‘

### ğŸ–¥ ì‚¬ìš© MCP ëª©ë¡

* shrimp-task-manager
* playwright
* googleSearch
* context7
* edit-file-lines

### ğŸ—‚ í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê²½ë¡œ

```
<PROJECT_ROOT> â†’ ì˜ˆì‹œ: C:\Users\twowin_1\IdeaProjects\wicrm
```

### ì£¼ìš” íŒ¨í‚¤ì§€ êµ¬ì¡°

```
src/main/java/com/wio/crm/
â”œâ”€â”€ controller/     - í™”ë©´ ë° API ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ service/        - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€ mapper/         - MyBatis ë§¤í¼ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ model/          - ë°ì´í„° ëª¨ë¸ í´ë˜ìŠ¤
â”œâ”€â”€ Entity/         - JPA ì—”í‹°í‹°
â”œâ”€â”€ repository/     - ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
â”œâ”€â”€ dto/            - ë°ì´í„° ì „ì†¡ ê°ì²´
â”œâ”€â”€ config/         - ì„¤ì • í´ë˜ìŠ¤
â””â”€â”€ exception/      - ì˜ˆì™¸ ì²˜ë¦¬
```

#### ìˆ˜ì • ì‹œ ì°¸ê³ ì‚¬í•­

* **ì½”ë“œ ìˆ˜ì •**: `AdminCodeController.java`ì—ì„œ ì‹œìŠ¤í…œ ì½”ë“œ ê´€ë¦¬
* **ë©”ë‰´ ê´€ë¦¬**: `menuMapper.xml`ì˜ ì¿¼ë¦¬ì™€ `sidebar.html`ì˜ ë™ì  ë©”ë‰´ ìƒì„± ë¶€ë¶„ í™•ì¸
* **ì‚¬ìš©ì ê¶Œí•œ**: SecurityConfig í´ë˜ìŠ¤ì™€ `USER_MENUS` ì„¸ì…˜ ë³€ìˆ˜ ì‚¬ìš© ì£¼ì˜

### ì£¼ìš” í…Œì´ë¸”

* **TSYS01**: ì‹œìŠ¤í…œ ì½”ë“œ ê´€ë¦¬ (ADM\_CODE, ADM\_GUBN, ADM\_SNAME)
* **TBND01**: ìƒë‹´ ë°ì´í„° (CUST\_CODE, PROJECT\_CODE, CALL\_CODE ë“±)
* **TBND01\_CUST**: ê³ ê° ìƒë‹´ ìƒì„¸ ì •ë³´
* **TBND01\_MEMO**: ìƒë‹´ ë©”ëª¨ (ëŒ“ê¸€)
* **TPRJ01**: í”„ë¡œì íŠ¸ ì •ë³´
* **TPER01**: ë‹´ë‹¹ì ì •ë³´
* **TCNT01**: ì§ì› ì •ë³´
* **TCNT01\_POINT**: ì§ì› í¬ì¸íŠ¸ (EMPNO, POINT, ISSUE\_DATE, CALL\_CODE)
* **TEMP01**: ì§ì› ì„ì‹œ ì •ë³´ (EMPNO, EMP\_NAME)
* **CALL\_LOG\_D**: í†µí™” ë¡œê·¸ (CALLDATE, CLID, CUST\_CODE, PROJECT\_CODE, RESULT, CONTEXT)
* **CONSULTING\_INQUIRY**: ìƒë‹´ ë¬¸ì˜ (INQUIRY\_ID, ê³ ê°ëª…, ì „í™”ë²ˆí˜¸, ìœ í˜•, ë‚´ìš©, ìƒíƒœ, ì´ë¯¸ì§€ URL ë“±)
* **COMMON\_CODE**: ê³µí†µ ì½”ë“œ ê´€ë¦¬ (CODE\_ID, CODE\_GROUP, CODE, CODE\_NAME ë“±)
* **BANNER**: ë°°ë„ˆ ê´€ë¦¬ (id, name, image\_url, link\_url, position, active, display\_order, start\_date, end\_date)

---

## ğŸ“Œ Rules ì„¤ì • ì§€ì¹¨ (Cursor)

### ğŸ§  ì—­í• : TaskPlanner (ê³„íš ë‹´ë‹¹)

```
ë‹¹ì‹ ì€ "TaskPlanner" ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” AIì…ë‹ˆë‹¤.
- ì‚¬ìš©ìê°€ ì œì‹œí•œ ìš”êµ¬ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ "plan_task" ë„êµ¬ë§Œ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ëª©ë¡ì„ ì‘ì„±í•˜ì„¸ìš”.
- ê° ì‘ì—…ì€ ìµœëŒ€ 1~2ì¼ ì´ë‚´ë¡œ ì™„ë£Œí•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ìµœëŒ€ 10ê°œ ì´í•˜ë¡œ ë‚˜ëˆ„ì„¸ìš”.
- ê° ì‘ì—…ì—ëŠ” ì„¤ëª…ê³¼ ëª…í™•í•œ ì™„ë£Œ ê¸°ì¤€(acceptance criteria)ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
- ì ˆëŒ€ë¡œ ì½”ë“œ ì‹¤í–‰, ìˆ˜ì •, í…ŒìŠ¤íŠ¸ëŠ” í•˜ì§€ ë§ˆì„¸ìš”.
- pseudocode, êµ¬í˜„ ê°€ì´ë“œ, ì˜ˆì‹œëŠ” í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.
- í•„ìš” ì‹œ split_tasks ë„êµ¬ë¥¼ ì‚¬ìš©í•´ ì„¸ë¶€ ë¶„í•  ê°€ëŠ¥
```

### ğŸ›  ì—­í• : TaskExecutor (ì‹¤í–‰ ë‹´ë‹¹)

```
ë‹¹ì‹ ì€ "TaskExecutor" ì—­í• ì˜ AIì…ë‹ˆë‹¤.
- ì´ë¯¸ ê³„íšëœ ì‘ì—…ì„ execute_task â†’ verify_task â†’ complete_task ìˆœì„œë¡œ ì‹¤í–‰í•˜ì„¸ìš”.
- ì ˆëŒ€ plan_task, analyze_taskëŠ” í•˜ì§€ ë§ˆì„¸ìš”.
- íŒŒì¼ ìˆ˜ì •ì€ edit-file-lines MCPë¥¼ ì‚¬ìš©í•´ dryRun â†’ approve ì ˆì°¨ë¥¼ ë”°ë¥´ì„¸ìš”.
- Playwright MCPë¡œ localhost ë˜ëŠ” ì‹¤ì œ ë„ë©”ì¸ì„ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.
- í…ŒìŠ¤íŠ¸ í›„ ê²°ê³¼ëŠ” ê°„ë‹¨íˆ ë³´ê³ í•˜ê³ , ì‹¤íŒ¨ ì‹œë§Œ ìƒì„¸ ë¡œê·¸ ë‚¨ê¸°ì„¸ìš”.
```

---

## ğŸ§  Shrimp Task Manager ì‚¬ìš© ì˜ˆì‹œ

**í”„ë¡œì íŠ¸ ê·œì¹™ ì´ˆê¸°í™”**

```json
{ "tool": "init_project_rules", "parameters": {} }
```

**ê¸°ëŠ¥ ìš”ì²­ ê¸°ë°˜ ì‘ì—… ëª©ë¡ ìƒì„±**

```json
{ "tool": "plan_task", "parameters": { "description": "ëŒ“ê¸€ ê¸°ëŠ¥ ì¶”ê°€" } }
```

**ì‘ì—… ì‹¤í–‰**

```json
{ "tool": "execute_task", "parameters": { "id": "TASK-2025-0001" } }
```

**ì‘ì—… ê²€ì¦**

```json
{ "tool": "verify_task", "parameters": { "id": "TASK-2025-0001" } }
```

**ì‘ì—… ì™„ë£Œ ì²˜ë¦¬**

```json
{ "tool": "complete_task", "parameters": { "id": "TASK-2025-0001" } }
```

---

### ğŸ§© edit-file-lines MCP ì‚¬ìš©ë²• ì˜ˆì‹œ

**1. í•œ ì¤„ êµì²´**

```json
{
  "command": "edit_file_lines",
  "p": "src/main/java/com/example/wicrm/controller/UserController.java",
  "e": [
    {
      "startLine": 42,
      "endLine": 42,
      "content": "    System.out.println(\"ë¡œê·¸ì¸ ì‹œì‘\");",
      "strMatch": "    // TODO: ë¡œê·¸ì¸ ì‹œì‘"
    }
  ],
  "dryRun": true
}
```

**2. ì—¬ëŸ¬ ì¤„ ì¶”ê°€**

```json
{
  "command": "edit_file_lines",
  "p": "src/main/java/com/example/wicrm/util/StringUtil.java",
  "e": [
    {
      "startLine": 120,
      "endLine": 120,
      "content": "\n// í—¬í¼ í•¨ìˆ˜\n" +
                 "public static String slugify(String text) {\n" +
                 "    return text.toLowerCase().replace(\" \", \"-\");\n" +
                 "}\n",
      "strMatch": ""
    }
  ],
  "dryRun": true
}
```

**3. ì—¬ëŸ¬ ì¤„ êµì²´**

```json
{
  "command": "edit_file_lines",
  "p": "src/main/resources/templates/login.html",
  "e": [
    {
      "startLine": 10,
      "endLine": 12,
      "content": "    <!-- ë¡œê·¸ì¸ í¼ ì‹œì‘ -->\n" +
                 "    <form method=\"post\" action=\"/login\">\n" +
                 "      <input type=\"text\" name=\"username\">\n"
    }
  ],
  "dryRun": false
}
```

**4. ì •ê·œí‘œí˜„ì‹ ë§¤ì¹­**

```json
{
  "command": "edit_file_lines",
  "p": "src/main/java/com/example/wicrm/logger/LogUtil.java",
  "e": [
    {
      "startLine": 1,
      "endLine": 0,
      "content": "// Removed TODO comments\n",
      "regexMatch": "^.*TODO:.*$"
    }
  ],
  "dryRun": true
}
```

**5. ì ìš© ìˆœì„œ ìš”ì•½**

* A. Dry-run ì‹¤í–‰ í›„ stateId í™•ë³´
* B. ì‹¤ì œ ì ìš© (approve)

```json
{ "command": "approve_edit", "stateId": "STATE-ID-HERE" }
```

* C. ë¼ì¸ í™•ì¸

```json
{
  "command": "get_file_lines",
  "path": "src/main/java/com/example/wicrm/controller/UserController.java",
  "lineNumbers": [42],
  "context": 0
}
```

---

### ğŸ§ª ê¸°íƒ€ í„°ë¯¸ë„ MCP ì˜ˆì‹œ

**ë¼ì¸ í¸ì§‘ ìš”ì²­ í˜•ì‹**

```json
{ "tool": "terminal", "parameters": { "cmd": "edit src/main/resources/templates/index.html line 15" } }
```

**ë””ë ‰í† ë¦¬ êµ¬ì¡° ëª©ë¡ ìš”ì²­**

```json
{ "tool": "terminal", "parameters": { "cmd": "dir /S" } }
```

---

## ğŸ“ ê¸°íƒ€ ì£¼ì˜ì‚¬í•­

* PlaywrightëŠ” `npx playwright install` ì™„ë£Œë˜ì–´ ìˆì–´ì•¼ ì •ìƒ ë™ì‘
* í”„ë¡œì íŠ¸ í´ë”ì— `SHRIMP` í´ë” í•„ìˆ˜ (`C:\...\SHRIMP`)
* edit-file-linesëŠ” í•­ìƒ `dryRun â†’ approve â†’ verify` ìˆœì„œ
* Git MCPëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
* DB ì •ë³´ëŠ” ì§ì ‘ ì‚½ì… (ê³„ì •, ë¹„ë°€ë²ˆí˜¸, DBëª… ë“±)
* `project_plan.md`ì— ì‘ì—… ì§„í–‰ì‚¬í•­ ë§¤ë²ˆ ê¸°ë¡
